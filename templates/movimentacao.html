<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <!-- Meta tags Obrigatórias -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>Movimentar</title>



  </head>
  <body style="background-color:#D3D3D3;">
    

    <div class="container">

        <a class="btn btn-primary m-5" href="/" >Voltar ao Ínicio</a>

        <h1 class="m-2 text-center">Movimentar</h1>

        <span id="msgAlert"></span>

        <form action="/add_movimento" method="post" id="formulario">

            <div class="form-group input-group m-3">

                <div class="input-group">
                    <span class="input-group-text">Container</span>
                    <select class="form-control" name="id_container" >
                        <option required value="">Escolha o Container</option>
                        {% for c in conteineres %}
                            <option required value="{{c['id_container']}}"{% if c['id_container'] == c['c'] %}selected="selected"{% endif %}>{{c['numero_container']}}</option>
                        {% endfor %}
                    </select>
                </div>

                </div>
                <div class="form-group input-group m-3">
                    <span class="input-group-text">Tipo Movimentação</span>
                    <select class="form-control" name="tipo" id="tipo">
                        <option value="">Escolha o tipo Movimentação</option>
                        <option value="embarque">embarque</option>
                        <option value="descarga">descarga</option>
                        
                        <option value="gate_in">gate in</option>
                        <option value="gate_out">gate out</option>
                        
                        <option value="reposicionamento">reposicionamento</option>
                        <option value="pesagem">pesagem</option>
                        <option value="scanner">scanner</option>
                    </select>
                </div>
              
                

                <div class="form-group input-group m-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text">Data de ínicio</span>
                    </div>
                    <input required type="datetime-local" aria-label="data_inicio" class="form-control" name="data_inicio">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Data do Fim</span>
                      </div>
                    <input required type="datetime-local" aria-label="data_fim" class="form-control" name="data_fim">
                  </div>
                  <button type="submit" class="btn btn-primary m-5 " style="width: 200px;">Enviar</button>
            </div>
            
        </form>
        
    </div>



    <script>


      const formulario =  document.querySelector("#formulario");
  
      formulario.onsubmit = evento => {
  
          
  
          var tipo = document.querySelector("#tipo").value;
          
          if( tipo === ""){
  
              evento.preventDefault();
              document.getElementById("msgAlert").innerHTML = "<p style='color: #f00;'> Necessário preencher o campo Tipo de Movimentação!</p>";
              return;
  
          }
          
          var status = document.querySelector("#status").value;
          
          if( status === ""){
  
              evento.preventDefault();
              document.getElementById("msgAlert").innerHTML = "<p style='color: #f00;'> Necessário preencher o campo Status!</p>";
              return;
  
          }
  
          var categoria = document.querySelector("#categoria").value;
          
          if( categoria === ""){
  
              evento.preventDefault();
              document.getElementById("msgAlert").innerHTML = "<p style='color: #f00;'> Necessário preencher o campo Categoria!</p>";
              return;
  
          }
  
      }
  
  
      
  </script>




    <!-- JavaScript (Opcional) -->
    <!-- jQuery primeiro, depois Popper.js, depois Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>